<!--
-- Copyright 2016 CareerBuilder, LLC
-- Licensed under the Apache License, Version 2.0 (the "License");
-- you may not use this file except in compliance with the License.
-- You may obtain a copy of the License at
--
--     http://www.apache.org/licenses/LICENSE-2.0
-- Unless required by applicable law or agreed to in writing, software
-- distributed under the License is distributed on an "AS IS" BASIS,
-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-- See the License for the specific language governing permissions and limitations under the License.
-->
<div class="container content">
    <div class="row">
    	<div class="col-xs-10 col-xs-offset-1">
        <h3 align="left">Errors</h3>
        <div class="row">
          <div class="col-md-6">
            <h4 ng-show="results.length<1">No Errors Here!</h4>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 pull-right">
            <div class="col-xs-5">
              <button class="btn btn-danger" ng-click="dismissAll()" ng-disabled="results.length<1">Dismiss All</button>
            </div>
            <div class="col-xs-5 col-xs-offset-2">
              <button class="btn btn-success" ng-click="retryAll()" ng-disabled="results.length<1">Retry All</button>
            </div>
          </div>
        </div>
        <hr>
        <div class="panel" ng-repeat="info in results track by $index"
        ng-class="{'panel-success': info.Class=='Success','panel-warning': info.Class=='Warning','panel-danger': info.Class=='Error','panel-info': info.Class=='Info'}">
          <div class="panel-heading">
            <h3 class="panel-title">
              <span class="glyphicon glyphicon-remove" ng-click="dismiss($index)"></span>
              {{info.Title}}
              <a class="pull-right" ng-click="info.Show=!info.Show" style="cursor:pointer;"><span class="text-muted">more info...</span></a>
            </h3>
          </div>
          <div class="panel-body" ng-show="info.Show">
            <p><strong>User:</strong> {{info.Username}}</p>
            <p><strong>Database:</strong> {{info.Database}}</p>
            <p>{{info.Details}}</p>
            <hr>
            <button class="btn btn-success" ng-click="retry($index)" ng-disabled="!info.Retryable">Retry</button>
          </div>
        </div>
      </div>
    </div>
</div>
